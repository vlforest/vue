<template>
  <div class="admin-sidebar d-none d-lg-block shadow p-3 mb-5 bg-white rounded">
    <div class="sidebar-header">
      <h4 class="text-white">Menu</h4>
    </div>
    <ul class="nav nav-pills flex-column mb-auto sidebar-list">
      <li class="nav-item">
        <router-link class="nav-link link-dark" to="/admin/dashboard">
          üè† Dashboard
        </router-link>
      </li>
      <li class="nav-item" @click="toggleExpand('products')">
        <span class="nav-link link-dark cursor-pointer">
          üì¶ Qu·∫£n l√Ω s·∫£n ph·∫©m
          <i
            :class="{
              'bi-chevron-down': isExpanded('products'),
              'bi-chevron-right': !isExpanded('products'),
            }"
            class="bi ms-auto"
          ></i>
        </span>
        <ul v-if="isExpanded('products')" class="nav flex-column ms-3">
          <li class="nav-item">
            <router-link class="nav-link link-dark" to="/admin/products"
              >S·∫£n Ph·∫©m</router-link
            >
          </li>
          <li class="nav-item">
            <router-link
              class="nav-link link-dark"
              to="/admin/products/categories"
              >Danh m·ª•c s·∫£n ph·∫©m</router-link
            >
          </li>
        </ul>
      </li>
      <li class="nav-item" @click="toggleExpand('orders')">
        <span class="nav-link link-dark cursor-pointer">
          üõí Qu·∫£n l√Ω ƒë∆°n h√†ng
          <i
            :class="{
              'bi-chevron-down': isExpanded('orders'),
              'bi-chevron-right': !isExpanded('orders'),
            }"
            class="bi ms-auto"
          ></i>
        </span>
        <ul v-if="isExpanded('orders')" class="nav flex-column ms-3">
          <li class="nav-item">
            <router-link class="nav-link link-dark" to="/admin/orders"
              >T·∫•t c·∫£ ƒë∆°n h√†ng</router-link
            >
          </li>
        </ul>
      </li>
      <li class="nav-item" @click="toggleExpand('customers')">
        <span class="nav-link link-dark cursor-pointer">
          üë• Qu·∫£n l√Ω kh√°ch h√†ng
          <i
            :class="{
              'bi-chevron-down': isExpanded('customers'),
              'bi-chevron-right': !isExpanded('customers'),
            }"
            class="bi ms-auto"
          ></i>
        </span>
        <ul v-if="isExpanded('customers')" class="nav flex-column ms-3">
          <li class="nav-item">
            <router-link class="nav-link link-dark" to="/admin/customers/all"
              >T·∫•t c·∫£ kh√°ch h√†ng</router-link
            >
          </li>
          <li class="nav-item">
            <router-link class="nav-link link-dark" to="/admin/customers/add"
              >Th√™m kh√°ch h√†ng m·ªõi</router-link
            >
          </li>
          <li class="nav-item">
            <router-link class="nav-link link-dark" to="/admin/customers/groups"
              >Nh√≥m kh√°ch h√†ng</router-link
            >
          </li>
        </ul>
      </li>
      <li class="nav-item" @click="toggleExpand('promotions')">
        <span class="nav-link link-dark cursor-pointer">
          üéâ Qu·∫£n l√Ω khuy·∫øn m√£i
          <i
            :class="{
              'bi-chevron-down': isExpanded('promotions'),
              'bi-chevron-right': !isExpanded('promotions'),
            }"
            class="bi ms-auto"
          ></i>
        </span>
        <ul v-if="isExpanded('promotions')" class="nav flex-column ms-3">
          <li class="nav-item">
            <router-link class="nav-link link-dark" to="/admin/promotions/all"
              >T·∫•t c·∫£ khuy·∫øn m√£i</router-link
            >
          </li>
          <li class="nav-item">
            <router-link class="nav-link link-dark" to="/admin/promotions/add"
              >Th√™m khuy·∫øn m√£i m·ªõi</router-link
            >
          </li>
          <li class="nav-item">
            <router-link
              class="nav-link link-dark"
              to="/admin/promotions/coupons"
              >M√£ gi·∫£m gi√°</router-link
            >
          </li>
        </ul>
      </li>
      <li class="nav-item" @click="toggleExpand('reports')">
        <span class="nav-link link-dark cursor-pointer">
          üìä B√°o c√°o
          <i
            :class="{
              'bi-chevron-down': isExpanded('reports'),
              'bi-chevron-right': !isExpanded('reports'),
            }"
            class="bi ms-auto"
          ></i>
        </span>
        <ul v-if="isExpanded('reports')" class="nav flex-column ms-3">
          <li class="nav-item">
            <router-link class="nav-link link-dark" to="/admin/reports/sales"
              >B√°o c√°o doanh s·ªë</router-link
            >
          </li>
          <li class="nav-item">
            <router-link class="nav-link link-dark" to="/admin/reports/products"
              >B√°o c√°o s·∫£n ph·∫©m</router-link
            >
          </li>
          <li class="nav-item">
            <router-link
              class="nav-link link-dark"
              to="/admin/reports/customers"
              >B√°o c√°o kh√°ch h√†ng</router-link
            >
          </li>
        </ul>
      </li>
      <li class="nav-item">
        <router-link class="nav-link link-dark" to="/admin/settings">
          ‚öôÔ∏è C√†i ƒë·∫∑t h·ªá th·ªëng
        </router-link>
      </li>
    </ul>
  </div>
</template>

<script>
export default {
  name: "AdminSidebar",
  data() {
    return {
      expandedSections: [],
    };
  },
  methods: {
    toggleExpand(section) {
      if (this.expandedSections.includes(section)) {
        this.expandedSections = this.expandedSections.filter(
          (s) => s !== section
        );
      } else {
        this.expandedSections.push(section);
      }
    },
    isExpanded(section) {
      return this.expandedSections.includes(section);
    },
  },
};
</script>

<style scoped>
.admin-sidebar {
  background-color: #28a745;
  color: #ffffff;
  margin-top: 10px; /* C√°ch Header m·ªôt ch√∫t */
  border-radius: 10px; /* Bo tr√≤n 4 g√≥c */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* ƒê·ªï b√≥ng nh·∫π nh√†ng */
  padding: 20px; /* Gi·ªØ n·ªôi dung Sidebar g·ªçn g√†ng */
  max-height: 100vh; /* Gi·ªõi h·∫°n chi·ªÅu cao t·ªëi ƒëa */
  overflow-y: auto; /* Xu·∫•t hi·ªán thanh cu·ªôn d·ªçc */
}

.sidebar-header {
  padding-bottom: 10px; /* Th√™m kho·∫£ng c√°ch d∆∞·ªõi ph·∫ßn header */
}

.nav-link {
  color: #ffffff;
}

.nav-link.active {
  background-color: #218838;
  color: #fff;
}

/* T√πy ch·ªânh thanh cu·ªôn ƒë·ªÉ m·∫£nh h∆°n v√† bo tr√≤n */
::-webkit-scrollbar {
  width: 5px; /* ƒê·ªô r·ªông c·ªßa thanh cu·ªôn */
}

::-webkit-scrollbar-thumb {
  background-color: #6c757d; /* M√†u c·ªßa thanh cu·ªôn */
  border-radius: 10px; /* Bo tr√≤n thanh cu·ªôn */
}

::-webkit-scrollbar-track {
  background-color: #e9ecef; /* M√†u n·ªÅn c·ªßa thanh cu·ªôn */
  border-radius: 10px; /* Bo tr√≤n n·ªÅn thanh cu·ªôn */
}

.cursor-pointer {
  cursor: pointer;
}
</style>
